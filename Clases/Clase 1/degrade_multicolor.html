<canvas id="canvas" width="900" height="600" style="border:#000 solid 1px;margin-left:auto;margin-right:auto;display:block;"></canvas>

<script type="text/javascript">
  var ctx = document.getElementById("canvas").getContext("2d");
  var canvas = document.getElementById("canvas");

  var imagen = ctx.createImageData(canvas.width,canvas.height);

  function cargarImg(){
    for (var i = 0; i < imagen.width; i++) {
      for (var j = 0; j < imagen.height; j++) {
        // var rec = Math.floor(0 + (j * (255/(imagen.height/2))));
        if (i > imagen.width/2) {
          var rec = Math.floor((Math.floor(i-(imagen.width/2))/Math.floor(imagen.width/2))*255);
          setPixel (imagen,i,j, 255,255-rec,0);
        }else {
          var rec = Math.floor((i/Math.floor(imagen.width/2))*255);
          setPixel (imagen,i,j,rec,rec,0);
        }
      }
    }
    ctx.putImageData(imagen,0,0);
  }

  cargarImg();

  function setPixel(imagenData,x,y,r,g,b){
    index = (x + y * imagenData.width) * 4;
    imagenData.data[index] = r;
    imagenData.data[index+1] = g;
    imagenData.data[index+2] = b;
    imagenData.data[index+3] = 255;
  }

</script>
